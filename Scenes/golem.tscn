[gd_scene load_steps=21 format=3 uid="uid://cxmgldbhb6dx6"]

[ext_resource type="Script" path="res://Scripts/Golem.gd" id="1_gokxe"]
[ext_resource type="Texture2D" uid="uid://vnaj1fgeh7jd" path="res://assets/Filler graphics/ArmouredRedDemon.png" id="2_ruoad"]
[ext_resource type="Texture2D" uid="uid://dksc1anrrjfr1" path="res://assets/HP back.png" id="3_ur5jt"]
[ext_resource type="Texture2D" uid="uid://hluqty1pngvc" path="res://assets/HP outside.png" id="4_lb7k2"]
[ext_resource type="Texture2D" uid="uid://dk8jbh52x55g5" path="res://assets/HP progress.png" id="5_evjif"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_bbry3"]
size = Vector2(6, 7)

[sub_resource type="AtlasTexture" id="AtlasTexture_wb7ru"]
atlas = ExtResource("2_ruoad")
region = Rect2(0, 96, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_3krdn"]
atlas = ExtResource("2_ruoad")
region = Rect2(16, 96, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_of2h1"]
atlas = ExtResource("2_ruoad")
region = Rect2(32, 96, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_v15pw"]
atlas = ExtResource("2_ruoad")
region = Rect2(48, 96, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_et50g"]
atlas = ExtResource("2_ruoad")
region = Rect2(64, 96, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_ukra0"]
atlas = ExtResource("2_ruoad")
region = Rect2(80, 96, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_obc0l"]
atlas = ExtResource("2_ruoad")
region = Rect2(0, 32, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_of4ay"]
atlas = ExtResource("2_ruoad")
region = Rect2(16, 32, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_jtt6p"]
atlas = ExtResource("2_ruoad")
region = Rect2(32, 32, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_0efnh"]
atlas = ExtResource("2_ruoad")
region = Rect2(48, 32, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_tk1w1"]
atlas = ExtResource("2_ruoad")
region = Rect2(64, 32, 16, 16)

[sub_resource type="SpriteFrames" id="SpriteFrames_xma3w"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_wb7ru")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_3krdn")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_of2h1")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_v15pw")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_et50g")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ukra0")
}],
"loop": false,
"name": &"Attack",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_obc0l")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_of4ay")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_jtt6p")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_0efnh")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_tk1w1")
}],
"loop": true,
"name": &"Walk",
"speed": 5.0
}, {
"frames": [],
"loop": true,
"name": &"new_animation",
"speed": 5.0
}]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_t1a3d"]
size = Vector2(50, 25)

[sub_resource type="CircleShape2D" id="CircleShape2D_26gda"]
radius = 1000.0

[node name="Golem" type="Area2D"]
script = ExtResource("1_gokxe")

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
position = Vector2(0, 2.5)
shape = SubResource("RectangleShape2D_bbry3")

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="."]
visible = false
scale = Vector2(2, 2)
sprite_frames = SubResource("SpriteFrames_xma3w")
animation = &"Attack"
autoplay = "Walk"

[node name="Damage area" type="Area2D" parent="AnimatedSprite2D"]
scale = Vector2(0.5, 0.5)

[node name="CollisionShape2D" type="CollisionShape2D" parent="AnimatedSprite2D/Damage area"]
position = Vector2(18, 0)
rotation = 3.14159
shape = SubResource("RectangleShape2D_t1a3d")

[node name="Search area" type="Area2D" parent="."]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Search area"]
shape = SubResource("CircleShape2D_26gda")
debug_color = Color(0, 0.6, 0.701961, 0.121569)

[node name="Attack_timer" type="Timer" parent="."]
one_shot = true

[node name="Hp Bar" type="TextureProgressBar" parent="."]
visible = false
offset_left = -12.0
offset_top = -24.0
offset_right = 12.0
offset_bottom = -12.0
nine_patch_stretch = true
texture_under = ExtResource("3_ur5jt")
texture_over = ExtResource("4_lb7k2")
texture_progress = ExtResource("5_evjif")

[connection signal="area_entered" from="AnimatedSprite2D/Damage area" to="." method="_on_damage_area_area_entered"]
[connection signal="timeout" from="Attack_timer" to="." method="_on_attack_timer_timeout"]
